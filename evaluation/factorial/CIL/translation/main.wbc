% compiler: GNU Prolog 1.4.2
% file    : main.pl


file_name('/home/yufeijiang/Dropbox/security thursday/multilingual obfuscation/babel/evaluation/factorial/CIL/translation/main.pl').


predicate(test/2,5,static,private,monofile,global,1).


clause(:-(test(A,B),atoi_wrapper(A,B)),[
    execute((atoi_wrapper)/2)]).


predicate(test2/2,6,static,private,monofile,global,1).


clause(:-(test2(A,B),strlen_wrapper(A,B)),[
    execute((strlen_wrapper)/2)]).


predicate(main/2,8,static,private,monofile,global,1).


clause(:-(main(A,B),','(is(C,1),','(is(D,1),','(loop(D,A,C,E),','(write(A),','(write('! is '),','(write(E),','(nl,is(B,0))))))))),[
    allocate(5),
    get_variable(y(0),0),
    get_variable(y(1),1),
    put_variable(y(2),0),
    put_integer(1,1),
    call((is)/2),
    put_variable(y(3),0),
    put_integer(1,1),
    call((is)/2),
    put_value(y(3),0),
    put_value(y(0),1),
    put_value(y(2),2),
    put_variable(y(4),3),
    call((loop)/4),
    put_value(y(0),0),
    call((write)/1),
    put_atom('! is ',0),
    call((write)/1),
    put_value(y(4),0),
    call((write)/1),
    call((nl)/0),
    put_value(y(1),0),
    put_integer(0,1),
    deallocate,
    execute((is)/2)]).


predicate(loop/4,10,static,private,monofile,global,2).


clause(:-(loop(A,B,C,D),','(=<(A,B),','(is(E,*(C,A)),','(is(F,+(A,1)),loop(F,B,E,D))))),[
    allocate(6),
    get_variable(y(0),0),
    get_variable(y(1),1),
    get_variable(y(2),2),
    get_variable(y(3),3),
    put_value(y(0),0),
    put_value(y(1),1),
    call((=<)/2),
    put_variable(y(4),0),
    put_structure((*)/2,1),
    unify_local_value(y(2)),
    unify_local_value(y(0)),
    call((is)/2),
    put_variable(y(5),0),
    put_structure((+)/2,1),
    unify_local_value(y(0)),
    unify_integer(1),
    call((is)/2),
    put_unsafe_value(y(5),0),
    put_value(y(1),1),
    put_unsafe_value(y(4),2),
    put_value(y(3),3),
    deallocate,
    execute((loop)/4)]).


clause(:-(loop(A,B,C,D),','(\+(=<(A,B)),is(D,C))),[
    allocate(2),
    get_variable(y(0),2),
    get_variable(y(1),3),
    get_variable(x(2),0),
    put_structure((=<)/2,0),
    unify_local_value(x(2)),
    unify_local_value(x(1)),
    call((\+)/1),
    put_value(y(1),0),
    put_value(y(0),1),
    deallocate,
    execute((is)/2)]).


predicate(debug/3,13,static,private,monofile,global,1).


clause(:-(debug(A,B,C),','(write(A),','(nl,','(write(B),','(nl,is(C,0)))))),[
    allocate(2),
    get_variable(y(0),1),
    get_variable(y(1),2),
    call((write)/1),
    call((nl)/0),
    put_value(y(0),0),
    call((write)/1),
    call((nl)/0),
    put_value(y(1),0),
    put_integer(0,1),
    deallocate,
    execute((is)/2)]).
